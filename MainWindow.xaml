<Window x:Class="XMLCharSheets.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="Auto" SizeToContent="Height" Width="818"  Background="#FFD4D4D4">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    </Window.Resources>
    
    <Grid Margin="0,0,2,1">
        <StackPanel>
            <DockPanel>
                <ListBox Name="AllCharacters_ListBox"
                     SelectedItem="{Binding Path=SelectedFullCharacter, Mode=TwoWay}"
                     ItemsSource="{Binding Path=FullRoster, UpdateSourceTrigger=PropertyChanged}"
                     Height="Auto"
                     SelectionMode="Single"
                     >
                </ListBox>
                <ListBox 
                    Name="ActiveCharacters_ListBox"
                    SelectedItem="{Binding Path=SelectedActiveCharacter, Mode=TwoWay}"     
                    ItemsSource="{Binding Path=ActiveRoster, UpdateSourceTrigger=PropertyChanged}" 
                    SelectionChanged="ActiveCharacters_ListBox_SelectionChanged"
                    Height="Auto"
                    SelectionMode="Extended">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <DockPanel>
                                <TextBlock Text="{Binding Path=Name}" Foreground="{Binding Path=StatusColor}" HorizontalAlignment="Left" />
                                <TextBlock Margin="8,0,0,0" Text="{Binding Path=StatusesLine}" Foreground="{Binding Path=StatusColor}" HorizontalAlignment="Left" />
                                <TextBlock Margin="8,0,0,0" Text="{Binding Path=CurInitiative}" Foreground="{Binding Path=StatusColor}" HorizontalAlignment="Center" />
                                <TextBlock Margin="8,0,0,0" Foreground="{Binding Path=Target.StatusColor}"  Text="{Binding Path=Target.Name, StringFormat=Targetting {0:c}!}" 
                                           HorizontalAlignment="Center" />
                            </DockPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
            
                </ListBox>
            </DockPanel>
            <DockPanel>

                <Button HorizontalAlignment="Left"
                        Name="AddCharacter_Button"
                        Content="Add" ToolTip="Add character to active roster." 
                            Width="75" Click="AddCharacter_Button_Click"/>
                <Button HorizontalAlignment="Left"
                        Name="RemoveCharacter_Button"
                        Content="Remove" ToolTip="Remove character from active roster." 
                            Width="75" Click="RemoveCharacter_Button_Click"/>
                
            </DockPanel>
            <DockPanel Margin="0,30,0,0" HorizontalAlignment="Left" VerticalAlignment="Bottom" MinHeight="80" >
                <DataGrid MinHeight="50" MinWidth="50" Width="Auto" Height="Auto" 
                          ItemsSource="{Binding Path=SelectedCharacter.Traits, UpdateSourceTrigger=PropertyChanged}"
                          CurrentCellChanged="DataChanged_DataGrid"
                          >
                </DataGrid>
                <ListBox 
                    Name="CurrentTraits_ListBox"
                    MinHeight="50" MinWidth="50" Width="Auto" Height="Auto" Margin="10,0,0,0" 
                     
                         ItemsSource="{Binding Path=CurrentTraits, UpdateSourceTrigger=PropertyChanged}" 
                         SelectionMode="Extended"
                         >
                
                </ListBox>
                <TextBox
                    IsReadOnly="True"
                    MinHeight="50" MinWidth="50" Height="Auto"
                    Text="{Binding Path=SelectedActiveCharacter.Status, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"
                    TextWrapping="Wrap"
                    >
                </TextBox>

                <StackPanel HorizontalAlignment="Left" MinWidth="50" Margin="10,0,0,0">
                    <Button Name="Do_Bashing_Button" Width="Auto" Height="Auto" Margin="0,0,0,10" HorizontalAlignment="Left" Click="Do_Bashing_Button_Click"
                            ToolTip="Do bashing damage to the selected characters."
                            >
                        <Path Stretch="Uniform" Fill="#FF000000" Width="24" Height="24" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                            <Path.Data>
                                <PathGeometry FillRule="Nonzero" 
                                              Figures="M-1.24331563711166E-07,9.29135513305664L3.3984375,9.29135513305664 13.3359375,44.8226051330566 9.9609375,44.8226051330566 -1.24331563711166E-07,9.29135513305664z" />
                            </Path.Data>
                            <Path.RenderTransform>
                                <TransformGroup>
                                    <TransformGroup.Children>
                                        <RotateTransform Angle="0" />
                                        <ScaleTransform ScaleX="1" ScaleY="1" />
                                    </TransformGroup.Children>
                                </TransformGroup>
                            </Path.RenderTransform>
                        </Path>
                    </Button>
                    <Button Name="Do_Lethal_Button" Width="Auto" Height="Auto" Margin="0,0,0,10" HorizontalAlignment="Left" 
                            Click="Do_Lethal_Button_Click" 
                            ToolTip="Do lethal damage to the selected characters."
                            >

                        <Path Stretch="Uniform" Fill="#FF000000" Width="24" Height="24" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                            <Path.Data>
                                <PathGeometry FillRule="Nonzero" Figures="M1.78125,9.87729263305664L7.1953125,9.87729263305664 13.4296875,18.6897926330566 15.0937490463257,21.1155738830566 16.1953125,22.9085426330566 18.9140625,18.9944801330566 25.828125,9.87729263305664 30.7734375,9.87729263305664 18.703125,26.0726051330566 31.7109375,44.2366676330566 26.0859375,44.2366676330566 17.4375,31.9788551330566 15.9375,29.6819801330566 14.9531240463257,31.2640113830566 14.296875,32.2601051330566 5.671875,44.2366676330566 0.210937529802322,44.2366676330566 13.5,26.3304176330566 1.78125,9.87729263305664z" />
                            </Path.Data>
                            <Path.RenderTransform>
                                <TransformGroup>
                                    <TransformGroup.Children>
                                        <RotateTransform Angle="0" />
                                        <ScaleTransform ScaleX="1" ScaleY="1" />
                                    </TransformGroup.Children>
                                </TransformGroup>
                            </Path.RenderTransform>
                        </Path>

                    </Button>
                    <Button Name="Do_Aggrivated_Button" Width="Auto" Height="Auto" 
                            Margin="0,0,0,10" HorizontalAlignment="Left" Click="Do_Aggrivated_Button_Click"
                            ToolTip="Do aggrivated damage to the selected characters."
                            >
                        <Path Stretch="Uniform" Fill="#FF000000" Width="24" Height="24" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                            <Path.Data>
                                <PathGeometry FillRule="Nonzero" Figures="M7.5234375,9.29135513305664L10.921875,9.29135513305664 10.751953125,11.904637336731 10.3828125,15.1038551330566 15.9140625,12.8538551330566 16.9921875,16.1819801330566 11.15625,17.4944801330566 12.8789052963257,19.2229976654053 15.1875,21.9241676330566 12.375,23.9163551330566 10.892578125,21.7308082580566 9.1640625,18.8772926330566 7.53515625,21.7894020080566 6.1171875,23.9163551330566 3.3515625,21.9241676330566 5.68359327316284,19.1409664154053 7.2421875,17.4944801330566 1.5,16.1819801330566 2.578125,12.8538551330566 5.79492139816284,14.0784664154053 7.9921875,15.1272926330566 7.65234327316284,11.547215461731 7.5234375,9.29135513305664z" />
                            </Path.Data>
                            <Path.RenderTransform>
                                <TransformGroup>
                                    <TransformGroup.Children>
                                        <RotateTransform Angle="0" />
                                        <ScaleTransform ScaleX="1" ScaleY="1" />
                                    </TransformGroup.Children>
                                </TransformGroup>
                            </Path.RenderTransform>
                        </Path>
                    </Button>
                    <Button Name="Make_Status_Button" Width="Auto" Height="Auto" 
                            Margin="0,0,0,10" HorizontalAlignment="Left" Click="Make_Status_Button_Click"
                            ToolTip="Add a status effect to the character."
                            >

                        <Path Data="F1M1548.36,536.949L1573.21,524.905 1586.59,542.918 1580.36,545.181 1597.29,560.611 1592.21,563.012 1612.36,588.908 1578.08,568.84 1584.43,566.166 1563.68,553.616 1570.75,549.775 1548.36,536.949z" 
                              Stretch="Uniform" Fill="#FF000000" Width="24" Height="24" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                            <Path.RenderTransform>
                                <TransformGroup>
                                    <TransformGroup.Children>
                                        <RotateTransform Angle="0" />
                                        <ScaleTransform ScaleX="1" ScaleY="1" />
                                    </TransformGroup.Children>
                                </TransformGroup>
                            </Path.RenderTransform>
                        </Path>
                    </Button>
                    <Button Name="Reset_Health_Button" Width="Auto" Height="Auto" Margin="0,0,0,10" HorizontalAlignment="Left" Click="Reset_Health_Button_Click"
                            ToolTip="Reset the health of the selected characters."
                            >
                        <Path Data="M7.4166234,16.197001L13.497334,16.345396 13.322834,23.436422 20.413999,23.61352 20.262901,29.691471 13.171835,29.516974 12.997336,36.608002 6.9166257,36.456905 7.0910952,29.363379 0,29.191483 0.1484375,23.11223 7.2421548,23.284727z M11.898108,2.8243951E-06C12.047457,-8.1059967E-05 12.194343,0.0017042016 12.338866,0.0052749978 16.963824,0.1159917 19.130506,2.1726163 21.594083,5.2591434 24.20856,2.2982254 26.475539,0.35292793 31.099097,0.46883325 31.674691,0.48317698 32.289287,0.52742664 32.948079,0.60817621 36.937644,1.0977344 41.474006,4.8737665 41.866,11.910204L41.807403,14.247387C41.119907,20.953037 35.841254,29.115776 20.75809,39.146999 19.094106,37.917812 17.565419,36.723721 16.144833,35.553227L16.221631,32.535049 19.617501,32.615749C20.039397,32.958145 20.455993,33.295445 20.893489,33.639141 31.127797,26.420496 36.658946,19.803345 37.346439,13.946589L37.395942,11.990903C37.070445,7.3073483 34.244972,5.2682934 32.403785,5.043015 31.898589,4.9831453 31.420797,4.9466458 30.989799,4.9349261 28.333522,4.8711462 27.202031,5.6523905 24.945552,8.2174912L21.423486,12.209702 18.101915,8.0456229C15.974234,5.3789525 14.883144,4.5378385 12.229568,4.4727092 11.792072,4.4622693 11.318076,4.475339 10.808981,4.5085388 8.9587071,4.6458679 6.0368631,6.5430041 5.4821784,11.204409L5.4483378,13.269493 5.0915616,17.82156 1.846801,17.74086C1.3207757,16.161371,1.0395283,14.662783,0.96399985,13.238295L1.0239084,10.901112C1.7556518,3.8965435 6.4756691,0.345116 10.484783,0.053491898 10.979854,0.017329086 11.450062,0.0002546377 11.898108,2.8243951E-06z" 
                              Stretch="Uniform" Fill="#FF000000" Width="24" Height="24" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                            <Path.RenderTransform>
                                <TransformGroup>
                                    <TransformGroup.Children>
                                        <RotateTransform Angle="0" />
                                        <ScaleTransform ScaleX="1" ScaleY="1" />
                                    </TransformGroup.Children>
                                </TransformGroup>
                            </Path.RenderTransform>
                        </Path>

                    </Button>
                </StackPanel>
                <StackPanel HorizontalAlignment="Left" MinWidth="50" Margin="10,0,0,0">
                    <TextBox 
                        Margin="0,0,0,10" 
                        Name="Modifier_TextBox" Width="75" Text="{Binding Path=RollModifier, Mode=TwoWay}"
                             PreviewTextInput="Modifier_TextBox_PreviewTextInput"
                             DataObject.Pasting="Modifier_TextBox_Pasting" 
                        >

                    </TextBox>
                    <Button Name="Initiative_Button" Width="Auto" Height="Auto" Margin="0,0,0,10" HorizontalAlignment="Right" Click="Initiative_Button_Click"
                            ToolTip="Roll initiative for all characters"
                            >
                        <Path Data="M55.665421,19.196998C52.989647,22.674911,46.835999,22.13981,46.835999,22.13981L48.440186,33.111248C57.002609,34.181453,57.806,29.900238,57.806,29.900238z M33.724003,7.9589988L35.062466,17.323177 34.981153,17.234861C33.140602,15.35972,23.289,12.507001,23.289,12.507L24.893036,24.012779 24.881151,24.009895C24.75951,23.980814 23.744785,23.748417 22.41353,23.756193 20.338139,23.768314 17.493451,24.364153 16.063999,27.224064L17.401199,36.054001C17.401198,36.054001,23.021101,31.772541,26.232,33.378139L24.893457,24.013261 24.986589,23.944071C27.065659,22.607216,36.400002,28.83,36.400002,28.83L38.273588,37.927635 50.047001,42.743999 48.440212,33.111271 36.400002,28.83 35.06278,17.324333 35.083172,17.387792C35.686283,18.769935,46.836002,22.139999,46.836002,22.139999L45.49749,12.5071C42.554771,12.5071,33.724003,7.9589993,33.724003,7.9589988z M2.8216758,4.3689996C4.3789334,4.3689996,5.6420002,5.6267878,5.6419992,7.1774503L5.6396456,7.2238781 14.960034,60.743663 14.991171,60.865169C15.025811,61.035026 15.044,61.210903 15.044,61.391048 15.044,62.831112 13.879876,63.999 12.442345,63.999 11.275408,63.999 10.28811,63.228012 9.958898,62.166473L9.9180415,62.007114 9.9090883,62.008999 0.19957066,8.2109 0.12683582,8.0129954C0.044404984,7.749056 0,7.468424 0,7.1774503 0,5.6267878 1.2630672,4.3689996 2.8216758,4.3689996z M20.613209,2.7928387C15.440449,2.7199437,12.853001,7.4235141,12.853002,7.4235136L14.190174,15.718C16.599028,12.506928,23.289,12.506928,23.289,12.506929L21.68223,2.8739113C21.3144,2.8237855,20.958059,2.7976987,20.613209,2.7928387z M20.122,5.8653558E-05C23.988783,0.011202592 29.19655,1.6122228 36.132845,6.3533618 36.132845,6.3533632 50.580666,14.647658 54.059845,5.5500647 54.059845,5.5500638 56.73563,3.9445647 57.002529,6.6203634L62.354,39.800041C62.354,39.800041 57.539028,49.432838 43.891998,43.814338 43.891998,43.814338 25.429806,31.505747 19.274939,38.194545 19.274939,38.194545 16.599154,41.673641 14.993663,37.927643L9.9090006,6.6203634C9.9090004,6.6203634,12.204298,-0.022760498,20.122,5.8653558E-05z"
                              Stretch="Uniform" Fill="#FF000000" Width="24" Height="24" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5"/>
                    </Button>
                    
                    <Button Name="SelectTarget_Button" Width="Auto" Height="Auto" Margin="0,0,0,10" HorizontalAlignment="Right" Click="SelectTarget_Button_Click"
                            ToolTip="Select target for selected characters"
                            >
                        <Path Data="M31.647835,21.819011C37.056774,21.819011 41.4459,26.202763 41.4459,31.610512 41.4459,37.017222 37.056774,41.402012 31.647835,41.402012 26.239018,41.402012 21.859899,37.017222 21.859899,31.610512 21.859899,26.202763 26.239018,21.819011 31.647835,21.819011z M31.648463,11.80599C20.728994,11.80599 11.839426,20.691982 11.839426,31.610973 11.839426,42.532965 20.728994,51.417955 31.648463,51.417955 42.567934,51.417955 51.457502,42.532965 51.457502,31.610973 51.457502,20.691982 42.567934,11.80599 31.648463,11.80599z M29.86855,0L32.798408,0 32.798408,10.187991C43.367895,10.74999,51.90748,18.918984,53.007425,29.330975L53.007425,29.305974 62.666958,29.305974 62.666958,32.240973 53.127401,32.240973 53.130848,32.147326C53.135221,31.969078 53.137421,31.790286 53.137421,31.610973 53.137421,31.822973 53.12742,32.030972 53.11742,32.240973L53.127401,32.240973 53.111229,32.680408C52.572058,43.662609,43.773811,52.452738,32.798408,53.034954L32.798408,62.666946 29.86855,62.666946 29.86855,53.119955C30.07854,53.125956 30.288529,53.129955 30.49852,53.129955 30.798505,53.129955 31.098491,53.093954 31.398476,53.080956 20.016216,52.949205 10.764194,43.978889 10.197059,32.708606L10.17942,32.240973 10.175706,32.104497 10.169507,31.610973C10.169507,31.716973,10.169507,31.821973,10.170757,31.926723L10.175706,32.104497 10.176422,32.161503 10.17942,32.240973 0,32.240973 0,29.305974 10.289501,29.305974C11.379448,18.857984 20.049027,10.63199 30.728508,10.176991 30.648512,10.174992 30.578516,10.163991 30.49852,10.163991 30.288529,10.163991 30.07854,10.166991 29.86855,10.174992z" 
                              Stretch="Uniform" Fill="#FF000000" Width="24" Height="24" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5"/>

                    </Button>
                    <Button Name="Roll_Button" Width="Auto" Height="Auto" Margin="0,0,0,10" HorizontalAlignment="Right" Click="Roll_Button_Click"
                            ToolTip="Roll selected pool for selected characters."
                            >
                        <Path Data="M35.540567,49.520442C35.474573,49.518455 35.408056,49.518852 35.341112,49.521587 34.162909,49.569755 32.852962,50.344012 31.954464,51.651859 30.645859,53.552978 30.701759,55.861606 32.077765,56.808116 33.455671,57.756225 35.630478,56.981319 36.940084,55.080295 38.248089,53.179176 38.192089,50.870651 36.815083,49.924037 36.438749,49.664844 36.00252,49.534347 35.540567,49.520442z M21.172548,46.771575C19.180337,46.771575 17.564528,48.662277 17.564528,50.99948 17.564528,53.333987 19.180337,55.229892 21.172548,55.229892 23.167059,55.229892 24.781967,53.333987 24.781967,50.99948 24.781967,48.662277 23.167059,46.771575 21.172548,46.771575z M46.804003,36.403522C45.503714,36.408942 44.086618,37.189288 43.142607,38.55791 41.773104,40.552833 41.924501,43.035861 43.484407,44.108875 45.042715,45.181785 47.417723,44.435676 48.789728,42.443454 50.159235,40.451232 50.008535,37.964305 48.449327,36.893993 47.96195,36.558707 47.395044,36.401061 46.804003,36.403522z M5.1575422,34.249446C3.164062,34.249446 1.5478435,36.14405 1.5478435,38.478656 1.5478435,40.81726 3.164062,42.709064 5.1575422,42.709064 7.1510231,42.709064 8.7669418,40.81726 8.7669414,38.478656 8.7669418,36.14405 7.1510231,34.249446 5.1575422,34.249446z M14.067111,31.42904C12.073899,31.42904 10.457691,33.323543 10.457691,35.659648 10.457691,37.995456 12.073899,39.891357 14.067111,39.891357 16.06062,39.891357 17.677429,37.995456 17.677429,35.659648 17.677429,33.323543 16.06062,31.42904 14.067111,31.42904z M24.444065,27.709033C22.451855,27.709033 20.834646,29.600936 20.834646,31.936942 20.834646,34.272846 22.451855,36.16735 24.444065,36.16735 26.437675,36.16735 28.053885,34.272846 28.053885,31.936942 28.053885,29.600936 26.437675,27.709033 24.444065,27.709033z M57.197592,23.632207C57.131594,23.63026 57.065069,23.630691 56.998125,23.63346 55.819895,23.682214 54.510633,24.456159 53.611448,25.764966 52.301443,27.667188 52.356543,29.974614 53.734449,30.921226 55.110754,31.870435 57.287264,31.095727 58.596167,29.194705 59.904772,27.292283 59.848074,24.983659 58.472769,24.034347 58.095999,23.775892 57.65959,23.645835 57.197592,23.632207z M61.059526,20.415494C61.313429,20.426257,61.525179,20.616359,61.356577,21.333717L54.586653,50.605045C54.586653,50.605045,54.37665,51.534656,53.616346,51.831661L27.010746,61.770473C27.010746,61.770473,25.995142,62.322578,26.080042,61.222366L32.678368,31.064426C32.678368,31.064426,32.932268,29.878312,33.947872,29.711612L60.509573,20.573308C60.509573,20.573308,60.805624,20.404731,61.059526,20.415494z M54.106268,19.488637L53.074389,19.758035C53.442183,19.698236,53.789877,19.608335,54.106268,19.488637z M8.9915528,14.961705C6.9980723,14.961705 5.3831336,16.856109 5.3831334,19.192115 5.3831336,21.528119 6.9980723,23.420024 8.9915528,23.420024 10.984994,23.420024 12.600902,21.528119 12.600902,19.192115 12.600902,16.856109 10.984994,14.961705 8.9915528,14.961705z M6.5893636,10.15334C6.7717674,10.158598,7.0043899,10.225348,7.3004436,10.393996L30.309397,28.835334C30.309397,28.835334 31.095201,29.263736 30.8601,30.512439 30.591898,31.936942 24.133863,60.756103 24.133863,60.756103 24.133863,60.756103 23.936962,61.770305 22.977958,60.926704 22.019953,60.080203 0.13829279,41.186961 0.13829231,41.186961 0.13829279,41.186961 -0.17286587,41.030761 0.13829231,39.891357L5.9469171,10.675196C5.9469167,10.675196,6.0421541,10.137563,6.5893636,10.15334z M34.183178,9.8053095C33.17758,9.8121588 32.234221,10.143546 31.697731,10.788074 30.624947,12.075769 30.40485,14.331059 31.977026,15.639453 33.548,16.949546 36.315855,16.810148 37.388737,15.522354 38.461721,14.23336 38.614319,12.075769 37.042044,10.769776 36.256605,10.116148 35.188772,9.7984593 34.183178,9.8053095z M35.158531,1.1641253E-05C35.438675,0.0011351982,36.00206,0.084759012,36.73905,0.60843861L59.832079,17.442945C59.832079,17.442945,61.186258,18.120042,60.086374,18.54334L33.354603,27.763198C33.354603,27.763198,32.33902,28.384298,31.324736,27.311303L8.1460651,8.5627444C8.1460654,8.5627444,7.3567184,8.0810664,8.8237942,7.7164381L34.962376,0.016034822C34.962376,0.01603414,35.031193,-0.00050016227,35.158531,1.1641253E-05z" 
                              Stretch="Uniform" Fill="#FF000000" Width="24" Height="24" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5"/>
                    </Button>
                    <Button Name="Attack_Target_Button" Width="Auto" Height="Auto" Margin="0,0,0,10" HorizontalAlignment="Right" Click="Attack_Target_Button_Click"
                            ToolTip="Attack the target of the selected characters."
                            >

                        <Path Data="F1M557.484,621.692C557.958,621.273 558.426,620.832 558.891,620.367 559.023,620.237 559.15,620.104 559.278,619.972 564.476,614.622 566.954,608.651 564.82,606.354L564.737,606.372C564.695,606.32,564.654,606.265,564.547,606.149L564.523,606.174C564.374,606.153 563.999,606.099 563.469,606.015 563.489,606.079 563.497,606.151 563.512,606.218 560.926,605.872 555.287,605 552.541,603.666 552.188,603.494 551.822,603.284 551.45,603.04 552.163,602.332 552.566,601.932 552.566,601.932 553.23,601.268 553.342,600.304 552.817,599.781L548.419,595.381C547.893,594.856,546.929,594.968,546.266,595.633L545.067,597.169C544.372,596.39,543.942,595.869,543.942,595.869L534.467,605.345C534.467,605.345,535.562,606.247,536.955,607.562L534.827,610.289 502.191,641.638C501.528,642.302 501.416,643.265 501.939,643.789 501.939,643.789 502.945,645.224 504.366,646.431 505.788,647.638 506.879,648.14 507.825,648.496 508.771,648.851 509.689,649.207 510.4,648.497 510.4,648.497 514.099,641.256 518.336,636.484 520.868,633.633 532.594,621.853 541.624,612.832 541.872,613.211 542.09,613.583 542.265,613.942 543.612,616.721 544.49,622.468 544.827,625.01 544.734,624.989 544.636,624.976 544.547,624.95 544.631,625.474 544.684,625.843 544.705,625.992L544.715,626.065 544.723,626.073C544.84,626.185 544.971,626.281 545.106,626.369 547.225,628.135 552.357,626.187 557.356,621.807 557.398,621.771 557.441,621.731 557.484,621.692z"
                              Stretch="Uniform" Fill="#FF000000" Width="24" Height="24" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                        </Path>
                    </Button>

                </StackPanel>
                <StackPanel 
                    HorizontalAlignment="Left" MinWidth="50" Margin="10,0,0,0" 
                    Visibility="{Binding Path=SelectedCharacter.IsVampire, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <Button Name="Blood_Buff_Button" Width="Auto" Height="Auto" Margin="0,0,0,10" HorizontalAlignment="Left" Click="Blood_Buff_Button_Click"
                            Visibility="{Binding Path=SelectedCharacter.IsVampire, Converter={StaticResource BooleanToVisibilityConverter}}"
                            ToolTip="Spend a point of vitae to augment attack stats by two."
                            >

                        <Path Data="M19.833,0L32.501,0 32.501,19.833999 52.334,19.833999 52.334,32.500999 32.501,32.500999 32.501,52.333 19.833,52.333 19.833,32.500999 0,32.500999 0,19.833999 19.833,19.833999z" 
                              Stretch="Uniform" Fill="#FF000000" Width="24" Height="24" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                        </Path>
                    </Button>
                    <Button Name="Blood_Heal_Button" Width="Auto" Height="Auto" Margin="0,0,0,10" HorizontalAlignment="Left" Click="Blood_Heal_Button_Click"
                            Visibility="{Binding Path=SelectedCharacter.IsVampire, Converter={StaticResource BooleanToVisibilityConverter}}"
                            ToolTip="Spend a point of vitae to heal."
                            >

                        <Path Data="F1M988.592,97.5669L982.444,97.5669 982.444,91.744C982.444,85.5748 977.281,80.5721 971.111,80.5721 964.941,80.5721 959.777,85.5748 959.777,91.744L959.777,97.5669 951.962,97.5669C947.713,97.5669,945.111,100.866,945.111,105.114L945.111,139.546C945.111,143.795,947.713,146.9,951.962,146.9L988.592,146.9C992.84,146.9,997.111,143.795,997.111,139.546L997.111,105.114C997.111,100.866,992.84,97.5669,988.592,97.5669z M970.801,84.9569C973.497,84.9569 975.683,87.145 975.683,89.8417 975.683,92.5396 973.497,94.7257 970.801,94.7257 968.103,94.7257 965.915,92.5396 965.915,89.8417 965.915,87.145 968.103,84.9569 970.801,84.9569z M981.797,135.395C981.797,135.395 978.623,141.744 971.296,141.622 971.296,141.622 964.947,142.355 960.796,136.86 960.796,136.86 954.202,130.39 963.848,115.37 963.848,115.37 968.916,106.031 970.809,101.085 970.809,101.085 976.502,113.265 978.257,115.981 978.257,115.981 985.887,128.558 981.797,135.395z" 
                              Stretch="Uniform" Fill="#FF000000" Width="24" Height="24" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                        </Path>
                    </Button>
                    <Button Name="Refill_Vitae_Button" Width="Auto" Height="Auto" Margin="0,0,0,10" HorizontalAlignment="Left" Click="Refill_Vitae_Button_Click"
                            Visibility="{Binding Path=SelectedCharacter.IsVampire, Converter={StaticResource BooleanToVisibilityConverter}}"
                            ToolTip="Refill Vitae to maximum."
                            >
                        <Path Data="F1M42.7161,9.77081C43.3776,9.77081 44.0781,9.80597 44.8307,9.88019 49.401,10.3242 54.6901,14.5117 55.3333,22.5352L55.3333,25.2031C54.7369,32.8802 48.9375,42.3496 32,54.2305 15.0598,42.3496 9.26563,32.8802 8.66663,25.2031L8.66663,22.5352C9.30981,14.5117 14.5963,10.3242 19.1692,9.88019 19.9192,9.80597 20.6223,9.77081 21.2813,9.77081 26.5625,9.77081 29.0989,12.0534 32,15.5104 34.901,12.0534 37.4323,9.77081 42.7161,9.77081" 
                              Stretch="Uniform" Fill="#FF000000" Width="24" Height="24" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                            <Path.RenderTransform>
                                <TransformGroup>
                                    <TransformGroup.Children>
                                        <RotateTransform Angle="0" />
                                        <ScaleTransform ScaleX="1" ScaleY="1" />
                                    </TransformGroup.Children>
                                </TransformGroup>
                            </Path.RenderTransform>
                        </Path>
                    </Button>
                </StackPanel>
            </DockPanel>
            <TextBox
                Name="Results_TextBox"
                IsReadOnly="True"
                VerticalScrollBarVisibility="Auto"
                MinHeight="50" MinWidth="50" Width="Auto" Height="150"
                Margin="0,10,0,0"
                Text="{Binding Path=RollResults, UpdateSourceTrigger=PropertyChanged}" 
                TextChanged="Results_TextBox_TextChanged"
                >
            </TextBox>
        </StackPanel>
    </Grid>
</Window>
